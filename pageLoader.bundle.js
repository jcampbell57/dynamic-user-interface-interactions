/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/assets/GitHub-light-32px.png":
/*!******************************************!*\
  !*** ./src/assets/GitHub-light-32px.png ***!
  \******************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__.p + "266ca63177bca6f330a7.png";

/***/ }),

/***/ "./src/assets/IMG_1201.jpg":
/*!*********************************!*\
  !*** ./src/assets/IMG_1201.jpg ***!
  \*********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__.p + "f5ca329287d8e157073e.jpg";

/***/ }),

/***/ "./src/assets/IMG_1212.jpg":
/*!*********************************!*\
  !*** ./src/assets/IMG_1212.jpg ***!
  \*********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__.p + "1056d36c9cac11dd88a2.jpg";

/***/ }),

/***/ "./src/assets/IMG_8716.jpg":
/*!*********************************!*\
  !*** ./src/assets/IMG_8716.jpg ***!
  \*********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__.p + "6cc0c8afe41804378b28.jpg";

/***/ }),

/***/ "./src/assets/IMG_8855.jpg":
/*!*********************************!*\
  !*** ./src/assets/IMG_8855.jpg ***!
  \*********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__.p + "d4cda406b36354f70446.jpg";

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		var scriptUrl;
/******/ 		if (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + "";
/******/ 		var document = __webpack_require__.g.document;
/******/ 		if (!scriptUrl && document) {
/******/ 			if (document.currentScript)
/******/ 				scriptUrl = document.currentScript.src
/******/ 			if (!scriptUrl) {
/******/ 				var scripts = document.getElementsByTagName("script");
/******/ 				if(scripts.length) scriptUrl = scripts[scripts.length - 1].src
/******/ 			}
/******/ 		}
/******/ 		// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration
/******/ 		// or pass an empty string ("") and set the __webpack_public_path__ variable from your code to use your own logic.
/******/ 		if (!scriptUrl) throw new Error("Automatic publicPath is not supported in this browser");
/******/ 		scriptUrl = scriptUrl.replace(/#.*$/, "").replace(/\?.*$/, "").replace(/\/[^\/]+$/, "/");
/******/ 		__webpack_require__.p = scriptUrl;
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.
(() => {
/*!***************************!*\
  !*** ./src/pageLoader.js ***!
  \***************************/
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _assets_GitHub_light_32px_png__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./assets/GitHub-light-32px.png */ "./src/assets/GitHub-light-32px.png");
/* harmony import */ var _assets_IMG_1201_jpg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./assets/IMG_1201.jpg */ "./src/assets/IMG_1201.jpg");
/* harmony import */ var _assets_IMG_1212_jpg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./assets/IMG_1212.jpg */ "./src/assets/IMG_1212.jpg");
/* harmony import */ var _assets_IMG_8716_jpg__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./assets/IMG_8716.jpg */ "./src/assets/IMG_8716.jpg");
/* harmony import */ var _assets_IMG_8855_jpg__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./assets/IMG_8855.jpg */ "./src/assets/IMG_8855.jpg");
/* eslint-disable no-plusplus */






const body = document.querySelector('body');

// helper functions
const processMenuSelection = (e) => {
  const mainMenu = document.querySelector('.mainMenu');
  const contentContainer = document.querySelector('.contentContainer');

  // deselect any menu items
  const menuCount = mainMenu.childElementCount;
  for (let i = 0; i < menuCount; i++) {
    mainMenu.children[i].classList.remove('selected');
  }

  // select new menu item
  e.target.classList.add('selected');

  // toggle content
  const contentCount = contentContainer.childElementCount;
  for (let i = 0; i < contentCount; i++) {
    // hide current content
    if (contentContainer.children[i].classList.contains('hidden') === false) {
      contentContainer.children[i].classList.add('hidden');
    }
    // display selected content
    if (contentContainer.children[i].id === e.target.id) {
      contentContainer.children[i].classList.remove('hidden');
    }
  }
};

const createMenuItem = (itemName, itemContainer, itemId, itemClass) => {
  const newMenuItem = document.createElement('div');

  newMenuItem.id = `${itemId}`;

  // add class if one is given
  if (itemClass !== undefined) {
    newMenuItem.setAttribute('class', `${itemClass}`);
  }

  newMenuItem.innerText = `${itemName}`;
  newMenuItem.classList.add('menuItem');

  newMenuItem.addEventListener('click', (e) => processMenuSelection(e));

  itemContainer.appendChild(newMenuItem);
};

const addImageToScroller = (image, i, scroller, caption) => {
  const imageContainer = document.createElement('div');
  imageContainer.classList.add('imageContainer', 'fade');

  // display image number
  const imageNumber = document.createElement('div');
  imageNumber.classList.add('imageNumber');
  imageNumber.innerText = `${i}/4`;
  imageContainer.appendChild(imageNumber);

  // display image
  const newImage = document.createElement('img');
  newImage.classList.add('scrollerImage');
  newImage.src = image;
  imageContainer.appendChild(newImage);

  // display caption
  if (caption !== undefined) {
    const imageCaption = document.createElement('div');
    imageCaption.classList.add('imageCaption');
    imageCaption.innerText = `${caption}`;
    imageContainer.appendChild(imageCaption);
  }

  scroller.appendChild(imageContainer);
};

let slideIndex = 0;

const selectImage = (n) => {
  const scrollerImages = document.getElementsByClassName('imageContainer');
  const scrollerDots = document.getElementsByClassName('scrollerDot');

  // loop through images
  if (n > scrollerImages.length) { slideIndex = 1; }
  if (n < 1) { slideIndex = scrollerImages.length; }

  // reset image selection
  for (let i = 0; i < scrollerImages.length; i++) {
    scrollerImages[i].style.display = 'none';
  }
  for (let i = 0; i < scrollerDots.length; i++) {
    scrollerDots[i].className = scrollerDots[i].className.replace(' selectedImage', '');
  }

  // select new image
  scrollerImages[slideIndex - 1].style.display = 'block';
  scrollerDots[slideIndex - 1].className += ' selectedImage';
};

const loopImageScroller = () => {
  const scrollerImages = document.getElementsByClassName('imageContainer');
  for (let i = 0; i < scrollerImages.length; i++) {
    scrollerImages[i].style.display = 'none';
  }
  slideIndex++;
  if (slideIndex > scrollerImages.length) { slideIndex = 1; }
  scrollerImages[slideIndex - 1].style.display = 'block';
  setTimeout(loopImageScroller, 5000); // Change image every 5 seconds
};

// page initialization functions
const createHeader = () => {
  const header = document.createElement('header');

  const headerTitle = document.createElement('h1');
  headerTitle.innerText = 'Dynamic UI Interactions';

  header.appendChild(headerTitle);
  body.appendChild(header);
};

const createMainMenu = () => {
  const mainMenu = document.createElement('div');
  mainMenu.classList.add('mainMenu');

  createMenuItem('Dropdown Menu', mainMenu, 'dropdownMenu', 'selected');
  createMenuItem('Mobile Menu', mainMenu, 'mobileMenu');
  createMenuItem('Image Scroller', mainMenu, 'imageScroller');

  body.appendChild(mainMenu);
};

const createDropdownMenu = (container) => {
  const dropdownMenuContainter = document.createElement('div');
  dropdownMenuContainter.classList.add('content');
  dropdownMenuContainter.id = 'dropdownMenu';

  // create dropdown container
  const dropdownContainer = document.createElement('div');
  dropdownContainer.classList.add('dropdownContainer', 'hidden');

  // create dropdown options
  for (let i = 1; i < 10; i++) {
    const dropdownOption = document.createElement('span');
    dropdownOption.classList.add('dropdownOption');
    dropdownOption.innerText = `option ${i}`;
    dropdownContainer.appendChild(dropdownOption);
  }

  // create dropdown button
  const dropdownMenu = document.createElement('div');
  dropdownMenu.classList.add('dropdownMenu');
  dropdownMenu.innerText = 'dropdown';
  dropdownMenu.addEventListener('click', () => {
    dropdownMenu.classList.toggle('selected');
    dropdownContainer.classList.toggle('hidden');
  });

  // Append
  dropdownMenu.appendChild(dropdownContainer);
  dropdownMenuContainter.appendChild(dropdownMenu);
  container.appendChild(dropdownMenuContainter);

  // close dropdown if the user clicks outside of it
  window.onclick = (e) => {
    if (!e.target.matches('.dropdownMenu')) {
      if (dropdownContainer.classList.contains('hidden') === false) {
        dropdownContainer.classList.add('hidden');
      }
      if (dropdownMenu.classList.contains('selected')) {
        dropdownMenu.classList.toggle('selected');
      }
    }
  };
};

const createMobileMenu = (container) => {
  // create content container
  const mobileMenuContent = document.createElement('div');
  mobileMenuContent.classList.add('mobileMenuContent', 'content', 'hidden');
  mobileMenuContent.id = 'mobileMenu';

  // create menu title
  const mobileMenuTitle = document.createElement('h3');
  mobileMenuTitle.innerText = 'Horizontal scrolling nav';

  // create mobile menu container
  const mobileMenuTable = document.createElement('table');
  const mobileMenuContainter = document.createElement('tr');
  mobileMenuContainter.classList.add('mobileMenuContainer');
  // makes scrollwheel functional with horizontal scrolling
  mobileMenuContainter.addEventListener('wheel', (e) => {
    e.preventDefault();
    mobileMenuContainter.scrollLeft += e.deltaY;
  });

  // create mobile menu options
  for (let i = 1; i <= 20; i++) {
    const mobileMenuOption = document.createElement('td');
    mobileMenuOption.classList.add('mobileMenuOption');
    mobileMenuOption.innerText = `mobile option ${i}`;
    mobileMenuOption.addEventListener('click', () => {
      // deselect all menu items
      const mobileMenuCount = mobileMenuContainter.childElementCount;
      // eslint-disable-next-line no-shadow
      for (let i = 0; i < mobileMenuCount; i++) {
        if (mobileMenuContainter.children[i].classList.contains('selected') === true) {
          mobileMenuContainter.children[i].classList.toggle('selected');
        }
      }
      // make new selection
      mobileMenuOption.classList.toggle('selected');
    });
    mobileMenuContainter.appendChild(mobileMenuOption);
  }

  // Append
  mobileMenuContent.appendChild(mobileMenuTitle);
  mobileMenuTable.appendChild(mobileMenuContainter);
  mobileMenuContent.appendChild(mobileMenuTable);
  container.appendChild(mobileMenuContent);
};

const createImageScroller = (container) => {
  const imageScrollerContainter = document.createElement('div');
  imageScrollerContainter.classList.add('content', 'hidden');
  imageScrollerContainter.id = 'imageScroller';

  const imageScroller = document.createElement('div');
  imageScroller.classList.add('imageScroller');

  // add images
  addImageToScroller(_assets_IMG_1201_jpg__WEBPACK_IMPORTED_MODULE_1__, 1, imageScroller, 'View of Diamond Head & Honolulu, Oahu');
  addImageToScroller(_assets_IMG_1212_jpg__WEBPACK_IMPORTED_MODULE_2__, 2, imageScroller, 'Jurassic Park Valley, Kualoa Ranch, Oahu');
  addImageToScroller(_assets_IMG_8716_jpg__WEBPACK_IMPORTED_MODULE_3__, 3, imageScroller, 'Rainbow on Oahu');
  addImageToScroller(_assets_IMG_8855_jpg__WEBPACK_IMPORTED_MODULE_4__, 4, imageScroller, 'Turtle on the beach near Haleiwa, Oahu');

  // add previous button
  const previousImageBtn = document.createElement('a');
  previousImageBtn.classList.add('previousImageBtn');
  previousImageBtn.addEventListener('click', () => { selectImage(slideIndex += -1); });
  // display previous arrow
  previousImageBtn.innerHTML = '&#10094;';

  // add next button
  const nextImageBtn = document.createElement('a');
  nextImageBtn.classList.add('nextImageBtn');
  nextImageBtn.addEventListener('click', () => { selectImage(slideIndex += 1); });
  // display next arrow
  nextImageBtn.innerHTML = '&#10095;';

  // add image selection dots
  const scrollerDotContainer = document.createElement('div');
  scrollerDotContainer.classList.add('scrollerDotContainer');
  for (let i = 1; i <= 4; i++) {
    const newDot = document.createElement('span');
    newDot.classList.add('scrollerDot');
    // eslint-disable-next-line no-loop-func
    newDot.addEventListener('click', () => { selectImage(slideIndex = i); });
    scrollerDotContainer.appendChild(newDot);
  }

  // append
  imageScroller.appendChild(previousImageBtn);
  imageScroller.appendChild(nextImageBtn);
  imageScrollerContainter.appendChild(imageScroller);
  imageScrollerContainter.appendChild(scrollerDotContainer);
  container.appendChild(imageScrollerContainter);
};

const createContentContainer = () => {
  const contentContainter = document.createElement('div');
  contentContainter.classList.add('contentContainer');

  createDropdownMenu(contentContainter);
  createMobileMenu(contentContainter);
  createImageScroller(contentContainter);

  body.appendChild(contentContainter);
};

const createFooter = () => {
  const footer = document.createElement('footer');

  const copyright = document.createElement('p');
  copyright.textContent = `Copyright Â© ${new Date().getFullYear()} jcampbell57`;

  const githubLink = document.createElement('a');
  githubLink.href = 'https://github.com/jcampbell57';
  githubLink.target = '_blank';

  const newGithubIcon = document.createElement('img');
  newGithubIcon.src = _assets_GitHub_light_32px_png__WEBPACK_IMPORTED_MODULE_0__;
  newGithubIcon.setAttribute('class', 'github');

  githubLink.appendChild(newGithubIcon);
  footer.appendChild(copyright);
  footer.appendChild(githubLink);

  body.appendChild(footer);
};

const initialize = () => {
  createHeader();
  createMainMenu();
  createContentContainer();
  createFooter();
  loopImageScroller();
};

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (initialize);

})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cEMscUJBQXFCLGlEQUFlO0FBQ3BDLHFCQUFxQixpREFBZTtBQUNwQyxxQkFBcUIsaURBQWU7O0FBRXBDO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCxnQ0FBZ0M7QUFDckY7QUFDQSx3Q0FBd0M7O0FBRXhDO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCwrQkFBK0I7QUFDaEY7QUFDQSxvQ0FBb0M7O0FBRXBDO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixRQUFRO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLDZDQUE2Qyw4QkFBOEI7QUFDM0U7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLHlDQUF5QywwQkFBMEI7O0FBRW5FO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHNCQUFzQiwwREFBVTtBQUNoQzs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxpRUFBZSxVQUFVLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9keW5hbWljLXVzZXItaW50ZXJmYWNlLWludGVyYWN0aW9ucy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9keW5hbWljLXVzZXItaW50ZXJmYWNlLWludGVyYWN0aW9ucy93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vZHluYW1pYy11c2VyLWludGVyZmFjZS1pbnRlcmFjdGlvbnMvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly9keW5hbWljLXVzZXItaW50ZXJmYWNlLWludGVyYWN0aW9ucy93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2R5bmFtaWMtdXNlci1pbnRlcmZhY2UtaW50ZXJhY3Rpb25zL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vZHluYW1pYy11c2VyLWludGVyZmFjZS1pbnRlcmFjdGlvbnMvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vZHluYW1pYy11c2VyLWludGVyZmFjZS1pbnRlcmFjdGlvbnMvLi9zcmMvcGFnZUxvYWRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwidmFyIHNjcmlwdFVybDtcbmlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLmcuaW1wb3J0U2NyaXB0cykgc2NyaXB0VXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmxvY2F0aW9uICsgXCJcIjtcbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5kb2N1bWVudDtcbmlmICghc2NyaXB0VXJsICYmIGRvY3VtZW50KSB7XG5cdGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0KVxuXHRcdHNjcmlwdFVybCA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjXG5cdGlmICghc2NyaXB0VXJsKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRpZihzY3JpcHRzLmxlbmd0aCkgc2NyaXB0VXJsID0gc2NyaXB0c1tzY3JpcHRzLmxlbmd0aCAtIDFdLnNyY1xuXHR9XG59XG4vLyBXaGVuIHN1cHBvcnRpbmcgYnJvd3NlcnMgd2hlcmUgYW4gYXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCB5b3UgbXVzdCBzcGVjaWZ5IGFuIG91dHB1dC5wdWJsaWNQYXRoIG1hbnVhbGx5IHZpYSBjb25maWd1cmF0aW9uXG4vLyBvciBwYXNzIGFuIGVtcHR5IHN0cmluZyAoXCJcIikgYW5kIHNldCB0aGUgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gdmFyaWFibGUgZnJvbSB5b3VyIGNvZGUgdG8gdXNlIHlvdXIgb3duIGxvZ2ljLlxuaWYgKCFzY3JpcHRVcmwpIHRocm93IG5ldyBFcnJvcihcIkF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyXCIpO1xuc2NyaXB0VXJsID0gc2NyaXB0VXJsLnJlcGxhY2UoLyMuKiQvLCBcIlwiKS5yZXBsYWNlKC9cXD8uKiQvLCBcIlwiKS5yZXBsYWNlKC9cXC9bXlxcL10rJC8sIFwiL1wiKTtcbl9fd2VicGFja19yZXF1aXJlX18ucCA9IHNjcmlwdFVybDsiLCIvKiBlc2xpbnQtZGlzYWJsZSBuby1wbHVzcGx1cyAqL1xuaW1wb3J0IGdpdGh1Ykljb24gZnJvbSAnLi9hc3NldHMvR2l0SHViLWxpZ2h0LTMycHgucG5nJztcbmltcG9ydCBwbGFjZWhvbGRlckltZzEgZnJvbSAnLi9hc3NldHMvSU1HXzEyMDEuanBnJztcbmltcG9ydCBwbGFjZWhvbGRlckltZzIgZnJvbSAnLi9hc3NldHMvSU1HXzEyMTIuanBnJztcbmltcG9ydCBwbGFjZWhvbGRlckltZzMgZnJvbSAnLi9hc3NldHMvSU1HXzg3MTYuanBnJztcbmltcG9ydCBwbGFjZWhvbGRlckltZzQgZnJvbSAnLi9hc3NldHMvSU1HXzg4NTUuanBnJztcblxuY29uc3QgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKTtcblxuLy8gaGVscGVyIGZ1bmN0aW9uc1xuY29uc3QgcHJvY2Vzc01lbnVTZWxlY3Rpb24gPSAoZSkgPT4ge1xuICBjb25zdCBtYWluTWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWluTWVudScpO1xuICBjb25zdCBjb250ZW50Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRlbnRDb250YWluZXInKTtcblxuICAvLyBkZXNlbGVjdCBhbnkgbWVudSBpdGVtc1xuICBjb25zdCBtZW51Q291bnQgPSBtYWluTWVudS5jaGlsZEVsZW1lbnRDb3VudDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZW51Q291bnQ7IGkrKykge1xuICAgIG1haW5NZW51LmNoaWxkcmVuW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7XG4gIH1cblxuICAvLyBzZWxlY3QgbmV3IG1lbnUgaXRlbVxuICBlLnRhcmdldC5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuXG4gIC8vIHRvZ2dsZSBjb250ZW50XG4gIGNvbnN0IGNvbnRlbnRDb3VudCA9IGNvbnRlbnRDb250YWluZXIuY2hpbGRFbGVtZW50Q291bnQ7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY29udGVudENvdW50OyBpKyspIHtcbiAgICAvLyBoaWRlIGN1cnJlbnQgY29udGVudFxuICAgIGlmIChjb250ZW50Q29udGFpbmVyLmNoaWxkcmVuW2ldLmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJykgPT09IGZhbHNlKSB7XG4gICAgICBjb250ZW50Q29udGFpbmVyLmNoaWxkcmVuW2ldLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIH1cbiAgICAvLyBkaXNwbGF5IHNlbGVjdGVkIGNvbnRlbnRcbiAgICBpZiAoY29udGVudENvbnRhaW5lci5jaGlsZHJlbltpXS5pZCA9PT0gZS50YXJnZXQuaWQpIHtcbiAgICAgIGNvbnRlbnRDb250YWluZXIuY2hpbGRyZW5baV0uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgfVxuICB9XG59O1xuXG5jb25zdCBjcmVhdGVNZW51SXRlbSA9IChpdGVtTmFtZSwgaXRlbUNvbnRhaW5lciwgaXRlbUlkLCBpdGVtQ2xhc3MpID0+IHtcbiAgY29uc3QgbmV3TWVudUl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICBuZXdNZW51SXRlbS5pZCA9IGAke2l0ZW1JZH1gO1xuXG4gIC8vIGFkZCBjbGFzcyBpZiBvbmUgaXMgZ2l2ZW5cbiAgaWYgKGl0ZW1DbGFzcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgbmV3TWVudUl0ZW0uc2V0QXR0cmlidXRlKCdjbGFzcycsIGAke2l0ZW1DbGFzc31gKTtcbiAgfVxuXG4gIG5ld01lbnVJdGVtLmlubmVyVGV4dCA9IGAke2l0ZW1OYW1lfWA7XG4gIG5ld01lbnVJdGVtLmNsYXNzTGlzdC5hZGQoJ21lbnVJdGVtJyk7XG5cbiAgbmV3TWVudUl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4gcHJvY2Vzc01lbnVTZWxlY3Rpb24oZSkpO1xuXG4gIGl0ZW1Db250YWluZXIuYXBwZW5kQ2hpbGQobmV3TWVudUl0ZW0pO1xufTtcblxuY29uc3QgYWRkSW1hZ2VUb1Njcm9sbGVyID0gKGltYWdlLCBpLCBzY3JvbGxlciwgY2FwdGlvbikgPT4ge1xuICBjb25zdCBpbWFnZUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBpbWFnZUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdpbWFnZUNvbnRhaW5lcicsICdmYWRlJyk7XG5cbiAgLy8gZGlzcGxheSBpbWFnZSBudW1iZXJcbiAgY29uc3QgaW1hZ2VOdW1iZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgaW1hZ2VOdW1iZXIuY2xhc3NMaXN0LmFkZCgnaW1hZ2VOdW1iZXInKTtcbiAgaW1hZ2VOdW1iZXIuaW5uZXJUZXh0ID0gYCR7aX0vNGA7XG4gIGltYWdlQ29udGFpbmVyLmFwcGVuZENoaWxkKGltYWdlTnVtYmVyKTtcblxuICAvLyBkaXNwbGF5IGltYWdlXG4gIGNvbnN0IG5ld0ltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gIG5ld0ltYWdlLmNsYXNzTGlzdC5hZGQoJ3Njcm9sbGVySW1hZ2UnKTtcbiAgbmV3SW1hZ2Uuc3JjID0gaW1hZ2U7XG4gIGltYWdlQ29udGFpbmVyLmFwcGVuZENoaWxkKG5ld0ltYWdlKTtcblxuICAvLyBkaXNwbGF5IGNhcHRpb25cbiAgaWYgKGNhcHRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgIGNvbnN0IGltYWdlQ2FwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGltYWdlQ2FwdGlvbi5jbGFzc0xpc3QuYWRkKCdpbWFnZUNhcHRpb24nKTtcbiAgICBpbWFnZUNhcHRpb24uaW5uZXJUZXh0ID0gYCR7Y2FwdGlvbn1gO1xuICAgIGltYWdlQ29udGFpbmVyLmFwcGVuZENoaWxkKGltYWdlQ2FwdGlvbik7XG4gIH1cblxuICBzY3JvbGxlci5hcHBlbmRDaGlsZChpbWFnZUNvbnRhaW5lcik7XG59O1xuXG5sZXQgc2xpZGVJbmRleCA9IDA7XG5cbmNvbnN0IHNlbGVjdEltYWdlID0gKG4pID0+IHtcbiAgY29uc3Qgc2Nyb2xsZXJJbWFnZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdpbWFnZUNvbnRhaW5lcicpO1xuICBjb25zdCBzY3JvbGxlckRvdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzY3JvbGxlckRvdCcpO1xuXG4gIC8vIGxvb3AgdGhyb3VnaCBpbWFnZXNcbiAgaWYgKG4gPiBzY3JvbGxlckltYWdlcy5sZW5ndGgpIHsgc2xpZGVJbmRleCA9IDE7IH1cbiAgaWYgKG4gPCAxKSB7IHNsaWRlSW5kZXggPSBzY3JvbGxlckltYWdlcy5sZW5ndGg7IH1cblxuICAvLyByZXNldCBpbWFnZSBzZWxlY3Rpb25cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzY3JvbGxlckltYWdlcy5sZW5ndGg7IGkrKykge1xuICAgIHNjcm9sbGVySW1hZ2VzW2ldLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzY3JvbGxlckRvdHMubGVuZ3RoOyBpKyspIHtcbiAgICBzY3JvbGxlckRvdHNbaV0uY2xhc3NOYW1lID0gc2Nyb2xsZXJEb3RzW2ldLmNsYXNzTmFtZS5yZXBsYWNlKCcgc2VsZWN0ZWRJbWFnZScsICcnKTtcbiAgfVxuXG4gIC8vIHNlbGVjdCBuZXcgaW1hZ2VcbiAgc2Nyb2xsZXJJbWFnZXNbc2xpZGVJbmRleCAtIDFdLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICBzY3JvbGxlckRvdHNbc2xpZGVJbmRleCAtIDFdLmNsYXNzTmFtZSArPSAnIHNlbGVjdGVkSW1hZ2UnO1xufTtcblxuY29uc3QgbG9vcEltYWdlU2Nyb2xsZXIgPSAoKSA9PiB7XG4gIGNvbnN0IHNjcm9sbGVySW1hZ2VzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnaW1hZ2VDb250YWluZXInKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzY3JvbGxlckltYWdlcy5sZW5ndGg7IGkrKykge1xuICAgIHNjcm9sbGVySW1hZ2VzW2ldLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIH1cbiAgc2xpZGVJbmRleCsrO1xuICBpZiAoc2xpZGVJbmRleCA+IHNjcm9sbGVySW1hZ2VzLmxlbmd0aCkgeyBzbGlkZUluZGV4ID0gMTsgfVxuICBzY3JvbGxlckltYWdlc1tzbGlkZUluZGV4IC0gMV0uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gIHNldFRpbWVvdXQobG9vcEltYWdlU2Nyb2xsZXIsIDUwMDApOyAvLyBDaGFuZ2UgaW1hZ2UgZXZlcnkgNSBzZWNvbmRzXG59O1xuXG4vLyBwYWdlIGluaXRpYWxpemF0aW9uIGZ1bmN0aW9uc1xuY29uc3QgY3JlYXRlSGVhZGVyID0gKCkgPT4ge1xuICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoZWFkZXInKTtcblxuICBjb25zdCBoZWFkZXJUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gxJyk7XG4gIGhlYWRlclRpdGxlLmlubmVyVGV4dCA9ICdEeW5hbWljIFVJIEludGVyYWN0aW9ucyc7XG5cbiAgaGVhZGVyLmFwcGVuZENoaWxkKGhlYWRlclRpdGxlKTtcbiAgYm9keS5hcHBlbmRDaGlsZChoZWFkZXIpO1xufTtcblxuY29uc3QgY3JlYXRlTWFpbk1lbnUgPSAoKSA9PiB7XG4gIGNvbnN0IG1haW5NZW51ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIG1haW5NZW51LmNsYXNzTGlzdC5hZGQoJ21haW5NZW51Jyk7XG5cbiAgY3JlYXRlTWVudUl0ZW0oJ0Ryb3Bkb3duIE1lbnUnLCBtYWluTWVudSwgJ2Ryb3Bkb3duTWVudScsICdzZWxlY3RlZCcpO1xuICBjcmVhdGVNZW51SXRlbSgnTW9iaWxlIE1lbnUnLCBtYWluTWVudSwgJ21vYmlsZU1lbnUnKTtcbiAgY3JlYXRlTWVudUl0ZW0oJ0ltYWdlIFNjcm9sbGVyJywgbWFpbk1lbnUsICdpbWFnZVNjcm9sbGVyJyk7XG5cbiAgYm9keS5hcHBlbmRDaGlsZChtYWluTWVudSk7XG59O1xuXG5jb25zdCBjcmVhdGVEcm9wZG93bk1lbnUgPSAoY29udGFpbmVyKSA9PiB7XG4gIGNvbnN0IGRyb3Bkb3duTWVudUNvbnRhaW50ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgZHJvcGRvd25NZW51Q29udGFpbnRlci5jbGFzc0xpc3QuYWRkKCdjb250ZW50Jyk7XG4gIGRyb3Bkb3duTWVudUNvbnRhaW50ZXIuaWQgPSAnZHJvcGRvd25NZW51JztcblxuICAvLyBjcmVhdGUgZHJvcGRvd24gY29udGFpbmVyXG4gIGNvbnN0IGRyb3Bkb3duQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGRyb3Bkb3duQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2Ryb3Bkb3duQ29udGFpbmVyJywgJ2hpZGRlbicpO1xuXG4gIC8vIGNyZWF0ZSBkcm9wZG93biBvcHRpb25zXG4gIGZvciAobGV0IGkgPSAxOyBpIDwgMTA7IGkrKykge1xuICAgIGNvbnN0IGRyb3Bkb3duT3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgIGRyb3Bkb3duT3B0aW9uLmNsYXNzTGlzdC5hZGQoJ2Ryb3Bkb3duT3B0aW9uJyk7XG4gICAgZHJvcGRvd25PcHRpb24uaW5uZXJUZXh0ID0gYG9wdGlvbiAke2l9YDtcbiAgICBkcm9wZG93bkNvbnRhaW5lci5hcHBlbmRDaGlsZChkcm9wZG93bk9wdGlvbik7XG4gIH1cblxuICAvLyBjcmVhdGUgZHJvcGRvd24gYnV0dG9uXG4gIGNvbnN0IGRyb3Bkb3duTWVudSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBkcm9wZG93bk1lbnUuY2xhc3NMaXN0LmFkZCgnZHJvcGRvd25NZW51Jyk7XG4gIGRyb3Bkb3duTWVudS5pbm5lclRleHQgPSAnZHJvcGRvd24nO1xuICBkcm9wZG93bk1lbnUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgZHJvcGRvd25NZW51LmNsYXNzTGlzdC50b2dnbGUoJ3NlbGVjdGVkJyk7XG4gICAgZHJvcGRvd25Db250YWluZXIuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJyk7XG4gIH0pO1xuXG4gIC8vIEFwcGVuZFxuICBkcm9wZG93bk1lbnUuYXBwZW5kQ2hpbGQoZHJvcGRvd25Db250YWluZXIpO1xuICBkcm9wZG93bk1lbnVDb250YWludGVyLmFwcGVuZENoaWxkKGRyb3Bkb3duTWVudSk7XG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZChkcm9wZG93bk1lbnVDb250YWludGVyKTtcblxuICAvLyBjbG9zZSBkcm9wZG93biBpZiB0aGUgdXNlciBjbGlja3Mgb3V0c2lkZSBvZiBpdFxuICB3aW5kb3cub25jbGljayA9IChlKSA9PiB7XG4gICAgaWYgKCFlLnRhcmdldC5tYXRjaGVzKCcuZHJvcGRvd25NZW51JykpIHtcbiAgICAgIGlmIChkcm9wZG93bkNvbnRhaW5lci5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpID09PSBmYWxzZSkge1xuICAgICAgICBkcm9wZG93bkNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIH1cbiAgICAgIGlmIChkcm9wZG93bk1lbnUuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgICAgIGRyb3Bkb3duTWVudS5jbGFzc0xpc3QudG9nZ2xlKCdzZWxlY3RlZCcpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn07XG5cbmNvbnN0IGNyZWF0ZU1vYmlsZU1lbnUgPSAoY29udGFpbmVyKSA9PiB7XG4gIC8vIGNyZWF0ZSBjb250ZW50IGNvbnRhaW5lclxuICBjb25zdCBtb2JpbGVNZW51Q29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBtb2JpbGVNZW51Q29udGVudC5jbGFzc0xpc3QuYWRkKCdtb2JpbGVNZW51Q29udGVudCcsICdjb250ZW50JywgJ2hpZGRlbicpO1xuICBtb2JpbGVNZW51Q29udGVudC5pZCA9ICdtb2JpbGVNZW51JztcblxuICAvLyBjcmVhdGUgbWVudSB0aXRsZVxuICBjb25zdCBtb2JpbGVNZW51VGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMycpO1xuICBtb2JpbGVNZW51VGl0bGUuaW5uZXJUZXh0ID0gJ0hvcml6b250YWwgc2Nyb2xsaW5nIG5hdic7XG5cbiAgLy8gY3JlYXRlIG1vYmlsZSBtZW51IGNvbnRhaW5lclxuICBjb25zdCBtb2JpbGVNZW51VGFibGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0YWJsZScpO1xuICBjb25zdCBtb2JpbGVNZW51Q29udGFpbnRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XG4gIG1vYmlsZU1lbnVDb250YWludGVyLmNsYXNzTGlzdC5hZGQoJ21vYmlsZU1lbnVDb250YWluZXInKTtcbiAgLy8gbWFrZXMgc2Nyb2xsd2hlZWwgZnVuY3Rpb25hbCB3aXRoIGhvcml6b250YWwgc2Nyb2xsaW5nXG4gIG1vYmlsZU1lbnVDb250YWludGVyLmFkZEV2ZW50TGlzdGVuZXIoJ3doZWVsJywgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgbW9iaWxlTWVudUNvbnRhaW50ZXIuc2Nyb2xsTGVmdCArPSBlLmRlbHRhWTtcbiAgfSk7XG5cbiAgLy8gY3JlYXRlIG1vYmlsZSBtZW51IG9wdGlvbnNcbiAgZm9yIChsZXQgaSA9IDE7IGkgPD0gMjA7IGkrKykge1xuICAgIGNvbnN0IG1vYmlsZU1lbnVPcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgIG1vYmlsZU1lbnVPcHRpb24uY2xhc3NMaXN0LmFkZCgnbW9iaWxlTWVudU9wdGlvbicpO1xuICAgIG1vYmlsZU1lbnVPcHRpb24uaW5uZXJUZXh0ID0gYG1vYmlsZSBvcHRpb24gJHtpfWA7XG4gICAgbW9iaWxlTWVudU9wdGlvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIC8vIGRlc2VsZWN0IGFsbCBtZW51IGl0ZW1zXG4gICAgICBjb25zdCBtb2JpbGVNZW51Q291bnQgPSBtb2JpbGVNZW51Q29udGFpbnRlci5jaGlsZEVsZW1lbnRDb3VudDtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zaGFkb3dcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbW9iaWxlTWVudUNvdW50OyBpKyspIHtcbiAgICAgICAgaWYgKG1vYmlsZU1lbnVDb250YWludGVyLmNoaWxkcmVuW2ldLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIG1vYmlsZU1lbnVDb250YWludGVyLmNoaWxkcmVuW2ldLmNsYXNzTGlzdC50b2dnbGUoJ3NlbGVjdGVkJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIG1ha2UgbmV3IHNlbGVjdGlvblxuICAgICAgbW9iaWxlTWVudU9wdGlvbi5jbGFzc0xpc3QudG9nZ2xlKCdzZWxlY3RlZCcpO1xuICAgIH0pO1xuICAgIG1vYmlsZU1lbnVDb250YWludGVyLmFwcGVuZENoaWxkKG1vYmlsZU1lbnVPcHRpb24pO1xuICB9XG5cbiAgLy8gQXBwZW5kXG4gIG1vYmlsZU1lbnVDb250ZW50LmFwcGVuZENoaWxkKG1vYmlsZU1lbnVUaXRsZSk7XG4gIG1vYmlsZU1lbnVUYWJsZS5hcHBlbmRDaGlsZChtb2JpbGVNZW51Q29udGFpbnRlcik7XG4gIG1vYmlsZU1lbnVDb250ZW50LmFwcGVuZENoaWxkKG1vYmlsZU1lbnVUYWJsZSk7XG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZChtb2JpbGVNZW51Q29udGVudCk7XG59O1xuXG5jb25zdCBjcmVhdGVJbWFnZVNjcm9sbGVyID0gKGNvbnRhaW5lcikgPT4ge1xuICBjb25zdCBpbWFnZVNjcm9sbGVyQ29udGFpbnRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBpbWFnZVNjcm9sbGVyQ29udGFpbnRlci5jbGFzc0xpc3QuYWRkKCdjb250ZW50JywgJ2hpZGRlbicpO1xuICBpbWFnZVNjcm9sbGVyQ29udGFpbnRlci5pZCA9ICdpbWFnZVNjcm9sbGVyJztcblxuICBjb25zdCBpbWFnZVNjcm9sbGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGltYWdlU2Nyb2xsZXIuY2xhc3NMaXN0LmFkZCgnaW1hZ2VTY3JvbGxlcicpO1xuXG4gIC8vIGFkZCBpbWFnZXNcbiAgYWRkSW1hZ2VUb1Njcm9sbGVyKHBsYWNlaG9sZGVySW1nMSwgMSwgaW1hZ2VTY3JvbGxlciwgJ1ZpZXcgb2YgRGlhbW9uZCBIZWFkICYgSG9ub2x1bHUsIE9haHUnKTtcbiAgYWRkSW1hZ2VUb1Njcm9sbGVyKHBsYWNlaG9sZGVySW1nMiwgMiwgaW1hZ2VTY3JvbGxlciwgJ0p1cmFzc2ljIFBhcmsgVmFsbGV5LCBLdWFsb2EgUmFuY2gsIE9haHUnKTtcbiAgYWRkSW1hZ2VUb1Njcm9sbGVyKHBsYWNlaG9sZGVySW1nMywgMywgaW1hZ2VTY3JvbGxlciwgJ1JhaW5ib3cgb24gT2FodScpO1xuICBhZGRJbWFnZVRvU2Nyb2xsZXIocGxhY2Vob2xkZXJJbWc0LCA0LCBpbWFnZVNjcm9sbGVyLCAnVHVydGxlIG9uIHRoZSBiZWFjaCBuZWFyIEhhbGVpd2EsIE9haHUnKTtcblxuICAvLyBhZGQgcHJldmlvdXMgYnV0dG9uXG4gIGNvbnN0IHByZXZpb3VzSW1hZ2VCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gIHByZXZpb3VzSW1hZ2VCdG4uY2xhc3NMaXN0LmFkZCgncHJldmlvdXNJbWFnZUJ0bicpO1xuICBwcmV2aW91c0ltYWdlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4geyBzZWxlY3RJbWFnZShzbGlkZUluZGV4ICs9IC0xKTsgfSk7XG4gIC8vIGRpc3BsYXkgcHJldmlvdXMgYXJyb3dcbiAgcHJldmlvdXNJbWFnZUJ0bi5pbm5lckhUTUwgPSAnJiMxMDA5NDsnO1xuXG4gIC8vIGFkZCBuZXh0IGJ1dHRvblxuICBjb25zdCBuZXh0SW1hZ2VCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gIG5leHRJbWFnZUJ0bi5jbGFzc0xpc3QuYWRkKCduZXh0SW1hZ2VCdG4nKTtcbiAgbmV4dEltYWdlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4geyBzZWxlY3RJbWFnZShzbGlkZUluZGV4ICs9IDEpOyB9KTtcbiAgLy8gZGlzcGxheSBuZXh0IGFycm93XG4gIG5leHRJbWFnZUJ0bi5pbm5lckhUTUwgPSAnJiMxMDA5NTsnO1xuXG4gIC8vIGFkZCBpbWFnZSBzZWxlY3Rpb24gZG90c1xuICBjb25zdCBzY3JvbGxlckRvdENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBzY3JvbGxlckRvdENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdzY3JvbGxlckRvdENvbnRhaW5lcicpO1xuICBmb3IgKGxldCBpID0gMTsgaSA8PSA0OyBpKyspIHtcbiAgICBjb25zdCBuZXdEb3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgbmV3RG90LmNsYXNzTGlzdC5hZGQoJ3Njcm9sbGVyRG90Jyk7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWxvb3AtZnVuY1xuICAgIG5ld0RvdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsgc2VsZWN0SW1hZ2Uoc2xpZGVJbmRleCA9IGkpOyB9KTtcbiAgICBzY3JvbGxlckRvdENvbnRhaW5lci5hcHBlbmRDaGlsZChuZXdEb3QpO1xuICB9XG5cbiAgLy8gYXBwZW5kXG4gIGltYWdlU2Nyb2xsZXIuYXBwZW5kQ2hpbGQocHJldmlvdXNJbWFnZUJ0bik7XG4gIGltYWdlU2Nyb2xsZXIuYXBwZW5kQ2hpbGQobmV4dEltYWdlQnRuKTtcbiAgaW1hZ2VTY3JvbGxlckNvbnRhaW50ZXIuYXBwZW5kQ2hpbGQoaW1hZ2VTY3JvbGxlcik7XG4gIGltYWdlU2Nyb2xsZXJDb250YWludGVyLmFwcGVuZENoaWxkKHNjcm9sbGVyRG90Q29udGFpbmVyKTtcbiAgY29udGFpbmVyLmFwcGVuZENoaWxkKGltYWdlU2Nyb2xsZXJDb250YWludGVyKTtcbn07XG5cbmNvbnN0IGNyZWF0ZUNvbnRlbnRDb250YWluZXIgPSAoKSA9PiB7XG4gIGNvbnN0IGNvbnRlbnRDb250YWludGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGNvbnRlbnRDb250YWludGVyLmNsYXNzTGlzdC5hZGQoJ2NvbnRlbnRDb250YWluZXInKTtcblxuICBjcmVhdGVEcm9wZG93bk1lbnUoY29udGVudENvbnRhaW50ZXIpO1xuICBjcmVhdGVNb2JpbGVNZW51KGNvbnRlbnRDb250YWludGVyKTtcbiAgY3JlYXRlSW1hZ2VTY3JvbGxlcihjb250ZW50Q29udGFpbnRlcik7XG5cbiAgYm9keS5hcHBlbmRDaGlsZChjb250ZW50Q29udGFpbnRlcik7XG59O1xuXG5jb25zdCBjcmVhdGVGb290ZXIgPSAoKSA9PiB7XG4gIGNvbnN0IGZvb3RlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvb3RlcicpO1xuXG4gIGNvbnN0IGNvcHlyaWdodCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgY29weXJpZ2h0LnRleHRDb250ZW50ID0gYENvcHlyaWdodCDCqSAke25ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKX0gamNhbXBiZWxsNTdgO1xuXG4gIGNvbnN0IGdpdGh1YkxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gIGdpdGh1YkxpbmsuaHJlZiA9ICdodHRwczovL2dpdGh1Yi5jb20vamNhbXBiZWxsNTcnO1xuICBnaXRodWJMaW5rLnRhcmdldCA9ICdfYmxhbmsnO1xuXG4gIGNvbnN0IG5ld0dpdGh1Ykljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgbmV3R2l0aHViSWNvbi5zcmMgPSBnaXRodWJJY29uO1xuICBuZXdHaXRodWJJY29uLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnZ2l0aHViJyk7XG5cbiAgZ2l0aHViTGluay5hcHBlbmRDaGlsZChuZXdHaXRodWJJY29uKTtcbiAgZm9vdGVyLmFwcGVuZENoaWxkKGNvcHlyaWdodCk7XG4gIGZvb3Rlci5hcHBlbmRDaGlsZChnaXRodWJMaW5rKTtcblxuICBib2R5LmFwcGVuZENoaWxkKGZvb3Rlcik7XG59O1xuXG5jb25zdCBpbml0aWFsaXplID0gKCkgPT4ge1xuICBjcmVhdGVIZWFkZXIoKTtcbiAgY3JlYXRlTWFpbk1lbnUoKTtcbiAgY3JlYXRlQ29udGVudENvbnRhaW5lcigpO1xuICBjcmVhdGVGb290ZXIoKTtcbiAgbG9vcEltYWdlU2Nyb2xsZXIoKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGluaXRpYWxpemU7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=